<h1 class="headers">Edit business</h1>


<ul class="nav nav-tabs">  &nbsp;&nbsp;&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.business_namePhase();" ng-class="business_nameTab"><a > Name</a></li>&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.business_typePhase();" ng-class="business_typeTab"><a> Type</a></li>&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.business_addressPhase();" ng-class="business_addressTab"><a >Address</a></li>&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.business_postcodePhase();" ng-class="business_postcodeTab"><a >Postcode</a></li>&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.websitePhase();" ng-class="websiteTab"><a >Website</a></li>&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.business_emailPhase();" ng-class="business_emailTab"><a >Email</a></li>&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.business_contactPhase();" ng-class="business_contactTab"><a >Contact</a></li>&nbsp;&nbsp;
    <li class="tablink" role="presentation" ng-click="editBusiness.specializationPhase();" ng-class="specializationTab"><a >Specialization</a></li>&nbsp;&nbsp;

</ul>
<br>
<div class="card ">
    <div class="card-body">
      <form name="editBusiness.nameForm" ng-show= "editBusiness.phase1" ng-submit="editBusiness.updateName(newName, editBusiness.nameForm.business_name.$valid)" novalidate>
        <div ng-class="{ 'has-success':(editBusiness.nameForm.business_name.$valid && !editBusiness.nameForm.business_name.$pristine), 'has-error':(!editBusiness.nameForm.business_name.$valid && !editBusiness.nameForm.business_name.$pristine) || (!editBusiness.nameForm.business_name.$valid && 
                    nameForm.$submitted)}">
          <label >Business Name</label>
          <input ng-disabled="editBusiness.disabled" type="text" class="form-control" name="business_name" placeholder="Please enter business name" ng-model="newName" ng-pattern="/^(([a-zA-Z]{2,20})+[ ]+([a-zA-Z]{2,20})+)+$|([a-zA-Z]{2,20})+/" 
          ng-minlength="3" ng-maxlength="20" required>
          <p class="help-block" ng-show="(!editBusiness.nameForm.business_name.$pristine && editBusiness.nameForm.business_name.$error.required) || (editBusiness.nameForm.$submitted && nameForm.business_name.$error.required)">This field is required</p>
          <ul ng-show="(!editBusiness.nameForm.business_name.$pristine && editBusiness.nameForm.business_name.$error.pattern) || (!editBusiness.nameForm.business_name.$pristine && editBusiness.nameForm.business_name.$error.minlength) || (!editBusiness.name.business_name.$pristine && editBusiness.nameForm.business_name.$error.maxlength)"class="help-block">
                        <li>Must not contain any special characters e.g.(@Â£$)</li>
                    </ul>
          <br>
          <button type="submit" class="btn btn-danger">Update</button>
          <br>
          <br>
          <div> <a href="#!/profile_details">
            <button type="button"  class="btn button1">Back</button>
        </a></div>
        </div>
      </form>

      <form name="editBusiness.typeForm" ng-show= "editBusiness.phase2" ng-submit="editBusiness.updateType(newType, editBusiness.typeForm.business_type.$valid)" novalidate>
        <div ng-class="{ 'has-success':(editBusiness.typeForm.business_type.$valid && !editBusiness.typeForm.business_type.$pristine), 'has-error':(!editBusiness.typeForm.business_type.$valid && !editBusiness.typeForm.business_type.$pristine) || (!editBusiness.typeForm.business_type.$valid && 
        typeForm.$submitted)}">
        <label >Type of Business: </label>
                    <select ng-model="newType" name="business_type" class="custom-select" required>
                        <option value="">Please select...</option>
                        <option value=Garage>Garage</option>
                        <option value="Part's Supplier">Part's Supplier</option>
                        <option value="Garage and Parts Supplier">Garage and Parts Supplier</option>
                    </select> 
                    <p class="help-block" ng-show="(editBusiness.typeForm.business_type.$select && editBusiness.typeForm.business_type.$error.required) || (editBusiness.typeForm.$submitted && editBusiness.typeForm.business_type.$error.required)">This field is required</p>
        <br>
        <button type="submit" class="btn btn-danger">Update</button>
        <br>
        <br>
        <div> <a href="#!/profile_details">
          <button type="button"  class="btn button1">Back</button>
      </a></div>
        </div>
    </form>

    <form name="editBusiness.addressForm" ng-show= "editBusiness.phase3" ng-submit="editBusiness.updateAddress(newAddress, editBusiness.addressForm.business_address.$valid)" novalidate>
      <div ng-class="{ 'has-success':(editBusiness.addressForm.business_address.$valid && !editBusiness.addressForm.business_address.$pristine), 'has-error':(!editBusiness.addressForm.business_address.$valid && !editBusiness.addressForm.business_address.$pristine) || (!editBusiness.addressForm.business_address.$valid && 
      addressForm.$submitted)}">
        <label >Business Address </label>
        <input type="text" class="form-control" name="business_address" placeholder="Please enter businesses new address" ng-model="newAddress"ng-pattern="/^\d+\s[A-z]+\s[A-z]+,\s[A-z]+/" 
        ng-minlength="3" ng-maxlength="35" required>
        <p class="help-block" ng-show="(!editBusiness.addressForm.business_address.$pristine && editBusiness.addressForm.business_address.$error.required) || (editBusiness.addressForm.$submitted && editBusiness.addressForm.business_address.$error.required)">This field is required</p>
        <ul ng-show="(!editBusiness.addressForm.business_address.$pristine && editBusiness.addressForm.business_address.$error.pattern) || (!editBusiness.addressForm.business_address.$pristine && editBusiness.addressForm.business_address.$error.minlength) || (!editBusiness.addressForm.business_address.$pristine && editBusiness.addressForm.business_address.$error.maxlength)"class="help-block">
            <li>Please enter your street name and number as well as the city.</li>
            <li>Example: 61 Park Street, Leicester</li>
        </ul>
        <br>
        <button type="submit" class="btn btn-danger">Update</button>
        <br>
        <br>
        <div> <a href="#!/profile_details">
          <button type="button"  class="btn button1">Back</button>
      </a></div>
      </div>
    </form>

    <form name="editBusiness.postcodeForm" ng-show= "editBusiness.phase4" ng-submit="editBusiness.updatePostcode(newPostcode, editBusiness.postcodeForm.business_postcode.$valid)" novalidate>
      <div ng-class="{ 'has-success':(editBusiness.postcodeForm.business_postcode.$valid && !editBusiness.postcodeForm.business_postcode.$pristine), 'has-error':(!editBusiness.postcodeForm.business_postcode.$valid && !editBusiness.postcodeForm.business_postcode.$pristine) || (!editBusiness.postcodeForm.business_postcode.$valid && 
      editBusiness.postcodeForm.$submitted)}">
        <label >Business Postcode </label>
        <input type="text" class="form-control" name="business_postcode" placeholder="Please enter businesses new Postcode" ng-model="newPostcode" ng-pattern="/([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})/" 
        ng-minlength="4" ng-maxlength="10" required>
        <p class="help-block" ng-show="(!editBusiness.postcodeForm.business_postcode.$pristine && editBusiness.postcodeForm.business_postcode.$error.required) || (editBusiness.postcodeForm.$submitted && editBusiness.postcodeForm.business_postcode.$error.required)">This field is required</p>
        <ul ng-show="(!editBusiness.postcodeForm.business_postcode.$pristine && editBusiness.postcodeForm.business_postcode.$error.pattern) || (!editBusiness.postcodeForm.business_postcode.$pristine && editBusiness.postcodeForm.business_postcode.$error.minlength) || (!editBusiness.postcodeForm.business_postcode.$pristine && editBusiness.postcodeForm.business_postcode.$error.maxlength)"class="help-block">
            <li>Please enter your business postcode in the following format</li>
            <li>Examples: SE50EG, se5 0eg, WC2H 7LT</li>
        </ul>

        <br>
        <button type="submit" class="btn btn-danger">Update</button>
        <br>
        <br>
        <div> <a href="#!/profile_details">
          <button type="button"  class="btn button1">Back</button>
      </a></div>
      </div>
    </form>

    <form name="editBusiness.websiteForm" ng-show= "editBusiness.phase5" ng-submit="editBusiness.updateWebsite(newWebsite, editBusiness.websiteForm.website.$valid)" novalidate>
      <div ng-class="{ 'has-success':(editBusiness.websiteForm.website.$valid && !editBusiness.websiteForm.website.$pristine), 'has-error':(!editBusiness.websiteForm.website.$valid && !editBusiness.websiteForm.website.$pristine) || (!editBusiness.websiteForm.website.$valid && 
      editBusiness.websiteForm.$submitted)}">
        <label >Business Website</label>
        <input type="text" class="form-control" name="website" placeholder="Please enter businesses new website address" ng-model="newWebsite" ng-pattern="/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/" 
        ng-minlength="3" ng-maxlength="30" required>
        <p class="help-block" ng-show="(!editBusiness.websiteForm.website.$pristine && editBusiness.websiteForm.website.$error.required) || (editBusiness.websiteForm.$submitted && editBusiness.websiteForm.website.$error.required)">This field is required</p>
        <ul ng-show="(!editBusiness.websiteForm.website.$pristine && editBusiness.websiteForm.website.$error.pattern) || (!editBusiness.websiteForm.website.$pristine && editBusiness.websiteForm.website.$error.minlength) || (!editBusiness.websiteForm.website.$pristine && editBusiness.websiteForm.website.$error.maxlength)"class="help-block">
            <li>Please enter you website address in the following format</li>
            <li>Examples: www.cool.com, http://www.cool.com.au</li>
        </ul>
        <br>
        <button type="submit" class="btn btn-danger">Update</button>
        <br>
        <br>
        <div> <a href="#!/profile_details">
          <button type="button"  class="btn button1">Back</button>
      </a></div>
      </div>
    </form>

    <form name="editBusiness.emailForm" ng-show= "editBusiness.phase6" ng-submit="editBusiness.updateEmail(newEmail, editBusiness.emailForm.business_email.$valid)" novalidate>
      <div ng-class="{ 'has-success':(editBusiness.emailForm.business_email.$valid && !editBusiness.emailForm.business_email.$pristine), 'has-error':(!editBusiness.emailForm.business_email.$valid && !editBusiness.emailForm.business_email.$pristine) || (!editBusiness.emailForm.business_email.$valid && 
      editBusiness.emailForm.$submitted)}">
        <label >Business Email</label>
        <input type="text" class="form-control" name="business_email" placeholder="Please enter businesses new email" ng-model="newEmail" ng-pattern="/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/" 
        ng-minlength="3" ng-maxlength="25" required>
        <p class="help-block" ng-show="(!editBusiness.emailForm.business_email.$pristine && editBusiness.emailForm.business_email.$error.required) || (editBusiness.emailForm.$submitted && editBusiness.emailForm.business_email.$error.required)">This field is required</p>
        <ul ng-show="(!editBusiness.emailForm.business_email.$pristine && editBusiness.emailForm.business_email.$error.pattern) || (!editBusiness.emailForm.business_email.$pristine && editBusiness.emailForm.business_email.$error.minlength) || (!editBusiness.emailForm.business_email.$pristine && editBusiness.emailForm.business_email.$error.maxlength)"class="help-block">
            <li>Must contain"@"</li>
            <li>Must not contain any special characters e.g.(@Â£$)</li>
            <li>Musy be between 3 and 25 characters</li> 
        </ul>
        <br>
        <button type="submit" class="btn btn-danger">Update</button>
        <br>
        <br>
        <div> <a href="#!/profile_details">
          <button type="button"  class="btn button1">Back</button>
      </a></div>
      </div>
    </form>

    <form name="editBusiness.contactForm" ng-show= "editBusiness.phase7" ng-submit="editBusiness.updateContact(newContact, editBusiness.contactForm.business_contact.$valid)" novalidate>
      <div ng-class="{ 'has-success':(editBusiness.contactForm.business_contact.$valid && !editBusiness.contactForm.business_contact.$pristine), 'has-error':(!editBusiness.contactForm.business_contact.$valid && !editBusiness.contactForm.business_contact.$pristine) || (!editBusiness.contactForm.business_contact.$valid && 
      editBusiness.contactForm.$submitted)}">
        <label >Business Contact </label>
        <input type="text" class="form-control" name="business_contact" placeholder="Please enter businesses new contact number" ng-model="newContact" ng-pattern="/^((\(?0\d{4}\)?\s?\d{3}\s?\d{3})|(\(?0\d{3}\)?\s?\d{3}\s?\d{4})|(\(?0\d{2}\)?\s?\d{4}\s?\d{4}))(\s?\#(\d{4}|\d{3}))?$/" 
        ng-minlength="3" ng-maxlength="20" required>
        <p class="help-block" ng-show="(!editBusiness.contactForm.business_contact.$pristine && editBusiness.contactForm.business_contact.$error.required) || (editBusiness.contactForm.$submitted && editBusiness.contactForm.business_contact.$error.required)">This field is required</p>
        <ul ng-show="(!editBusiness.contactForm.business_contact.$pristine && editBusiness.contactForm.business_contact.$error.pattern) || (!editBusiness.contactForm.business_contact.$pristine && editBusiness.contactForm.business_contact.$error.minlength) || (!editBusiness.contactForm.business_contact.$pristine && editBusiness.contactForm.business_contact.$error.maxlength)"class="help-block">

            <li>Please enter you contact details in this format. Examples 01222 555 555 | (010) 55555555 #2222 | 0122 555 5555#222</li>
        </ul>
        <br>
        <button type="submit" class="btn btn-danger">Update</button>
        <br>
        <br>
        <div> <a href="#!/profile_details">
          <button type="button"  class="btn button1">Back</button>
      </a></div>
      </div>
    </form>

    <form name="editBusiness.specializationForm" ng-show= "editBusiness.phase8" ng-submit="editBusiness.updateSpecialization(newSpecialization, editBusiness.specializationForm.specialization.$valid)" novalidate>
      <div ng-class="{ 'has-success':(editBusiness.specializationForm.specialization.$valid && !editBusiness.specializationForm.specialization.$pristine), 'has-error':(!editBusiness.specializationForm.specialization.$valid && !editBusiness.specializationForm.specialization.$pristine) || (!editBusiness.specializationForm.business_name.$valid && 
      editBusiness.specializationForm.$submitted)}">
        <label >Business specialization</label>
        <input type="text" class="form-control" name="specialization" placeholder="Please enter businesses new specialization" ng-model="newSpecialization"  required>
        <p class="help-block" ng-show="(!editBusiness.specializationForm.specialization.$pristine && editBusiness.specializationForm.specialization.$error.required) || (editBusiness.specializationForm.$submitted && editBusiness.specializationForm.specialization.$error.required)">This field is required</p>
        <ul ng-show="(!editBusiness.specializationForm.specialization.$pristine)"class="help-block">

            <li>What does your business specialize in? e.g.Volkswagen</li>
        </ul>
        <br>
        <button type="submit" class="btn btn-danger">Update</button>
        <br>
        <br>
        <div> <a href="#!/profile_details">
          <button type="button"  class="btn button1">Back</button>
      </a></div>
      </div>
    </form>
    </div>
</div>

<div class='row show-hide-message'ng-show="editBusiness.successMsg">
    <div class="alert alert-success">{{editBusiness.successMsg}}</div>
</div>
<br>
<div class='row show-hide-message'ng-show="editBusiness.errorMsg">
    <div class="alert alert-danger">{{editBusiness.errorMsg}}</div>
</div>
